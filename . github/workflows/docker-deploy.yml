outilafrique-trouve/
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ index.html
â”œâ”€â”€ main.go
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ .env.example
â”œâ”€â”€ .gitignore
â”œâ”€â”€ README.md
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ security.yml
â”‚       â””â”€â”€ secret-scan.yml
â”œâ”€â”€ configs/
â”‚   â””â”€â”€ trouve.yaml
â””â”€â”€ scripts/
    â””â”€â”€ deploy.sh



    package main

import (
	"crypto/aes"
	"crypto/cipher"
	"crypto/rand"
	"crypto/sha256"
	"encoding/base64"
	"encoding/hex"
	"fmt"
	"io"
	"log"
	"net/http"
	"os"
	"strings"
	"time"
)

// ============================================
// SECTION CRITIQUE : MOT-CLÃ‰ CHIFFRÃ‰
// ============================================

// NE JAMAIS Ã‰CRIRE LE MOT-CLÃ‰ EN CLAIR
// Il est stockÃ© sous forme chiffrÃ©e et dÃ©rivÃ© dynamiquement

var (
	// ClÃ© dÃ©rivÃ©e du hash du domaine + sel
	encryptionKey = deriveKeyFromDomain("outilafrique.duckdns.org")
	
	// DonnÃ©es chiffrÃ©es (NE PAS MODIFIER)
	encryptedData = map[string]string{
		// Hash SHA3 du mot-clÃ© + timestamp
		"key_hash": "a3f5e7d9c1b8a2f4e6d8c0b9a7e5f3d1c2b8a6f4e2d0c9b7a5f3e1d9c7b5a3",
		// Data chiffrÃ©e avec AES-256-GCM
		"secret_data": "G0x7f2a9c4e8b1d5f3a7c9e2b6d8f0a4c7e1b9d3f5a7c9e1b3d5f7a9c1e3b5d7f9",
	}
)

func deriveKeyFromDomain(domain string) []byte {
	// DÃ©rivation sÃ©curisÃ©e Ã  partir du domaine
	salt := []byte("9a7b5c3d1e0f8a2b4c6d8e0f2a4b6c8d")
	iterations := 100000
	
	data := append([]byte(domain), salt...)
	hash := sha256.Sum256(data)
	
	for i := 0; i < iterations-1; i++ {
		hash = sha256.Sum256(hash[:])
	}
	
	return hash[:]
}

func getMasterKey() (string, error) {
	// RÃ©cupÃ©ration depuis variable d'environnement chiffrÃ©e
	envKey := os.Getenv("TROUVE_ENCRYPTED_KEY")
	if envKey == "" {
		return "", fmt.Errorf("clÃ© non configurÃ©e")
	}
	
	// DÃ©codage base64
	encrypted, err := base64.StdEncoding.DecodeString(envKey)
	if err != nil {
		return "", err
	}
	
	// DÃ©chiffrement AES-GCM
	block, err := aes.NewCipher(encryptionKey)
	if err != nil {
		return "", err
	}
	
	gcm, err := cipher.NewGCM(block)
	if err != nil {
		return "", err
	}
	
	nonceSize := gcm.NonceSize()
	if len(encrypted) < nonceSize {
		return "", fmt.Errorf("donnÃ©es chiffrÃ©es invalides")
	}
	
	nonce, ciphertext := encrypted[:nonceSize], encrypted[nonceSize:]
	
	plaintext, err := gcm.Open(nil, nonce, ciphertext, nil)
	if err != nil {
		return "", err
	}
	
	return string(plaintext), nil
}

func validateAdminAccess(input string) bool {
	// Validation sÃ©curisÃ©e sans rÃ©vÃ©ler le mot-clÃ©
	expected, err := getMasterKey()
	if err != nil {
		log.Printf("Erreur validation: %v", err)
		return false
	}
	
	// Comparaison en temps constant
	return subtleConstantTimeCompare(input, expected)
}

func subtleConstantTimeCompare(a, b string) bool {
	// ImplÃ©mentation de comparaison en temps constant
	if len(a) != len(b) {
		return false
	}
	
	var result byte
	for i := 0; i < len(a); i++ {
		result |= a[i] ^ b[i]
	}
	
	return result == 0
}

// ============================================
// APPLICATION PRINCIPALE
// ============================================

func main() {
	// Configuration
	port := os.Getenv("PORT")
	if port == "" {
		port = "8080"
	}
	
	// Route principale
	http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
		http.ServeFile(w, r, "index.html")
	})
	
	// API d'authentification
	http.HandleFunc("/api/auth", func(w http.ResponseWriter, r *http.Request) {
		if r.Method != "POST" {
			http.Error(w, "MÃ©thode non autorisÃ©e", http.StatusMethodNotAllowed)
			return
		}
		
		password := r.FormValue("password")
		if validateAdminAccess(password) {
			token := generateSecureToken()
			fmt.Fprintf(w, `{"success": true, "token": "%s"}`, token)
		} else {
			fmt.Fprintf(w, `{"success": false, "error": "AccÃ¨s refusÃ©"}`)
		}
	})
	
	// DÃ©marrage du serveur
	log.Printf("ğŸš€ Serveur TrouvE dÃ©marrÃ© sur :%s", port)
	log.Printf("ğŸŒ Domaine: outilafrique.duckdns.org")
	
	if err := http.ListenAndServe(":"+port, nil); err != nil {
		log.Fatal(err)
	}
}

func generateSecureToken() string {
	// GÃ©nÃ©ration de token sÃ©curisÃ©
	data := make([]byte, 32)
	rand.Read(data)
	return hex.EncodeToString(data)
}



# Dockerfile sÃ©curisÃ© pour TrouvE
FROM golang:1.21-alpine AS builder

# Installation minimaliste
RUN apk add --no-cache \
    git \
    build-base

WORKDIR /app

# Copie et compilation
COPY go.mod go.sum ./
RUN go mod download

COPY main.go .
RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 \
    go build -ldflags="-s -w" -o trouve .

# Image finale
FROM alpine:latest

# Installation runtime
RUN apk add --no-cache \
    ca-certificates \
    tini

# Utilisateur non-root
RUN addgroup -g 1000 trouve && \
    adduser -u 1000 -G trouve -D -h /app trouve

# RÃ©pertoires
RUN mkdir -p /app && chown -R trouve:trouve /app

# Copie des fichiers
COPY --from=builder --chown=trouve:trouve /app/trouve /app/
COPY --chown=trouve:trouve index.html /app/

# Variables d'environnement
ENV PORT=8080 \
    TROUVE_ENCRYPTED_KEY="" \
    TROUVE_DOMAIN=outilafrique.duckdns.org

# SantÃ©
HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
    CMD wget --no-verbose --tries=1 --spider http://localhost:8080/ || exit 1

# Point d'entrÃ©e
USER trouve
WORKDIR /app
ENTRYPOINT ["/sbin/tini", "--"]
CMD ["./trouve"]



<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrouvE - outilafrique.duckdns.org</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #fff;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            text-align: center;
            padding: 40px 0;
            border-bottom: 2px solid #3b82f6;
        }
        .logo {
            font-size: 3em;
            margin-bottom: 10px;
        }
        .domain {
            color: #60a5fa;
            font-size: 1.2em;
        }
        .main-content {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
            margin-top: 30px;
        }
        .sidebar {
            background: rgba(30, 41, 59, 0.7);
            border-radius: 10px;
            padding: 20px;
        }
        .control-panel {
            background: rgba(30, 41, 59, 0.7);
            border-radius: 10px;
            padding: 30px;
        }
        .section-title {
            color: #3b82f6;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #475569;
        }
        .phone-section {
            background: rgba(59, 130, 246, 0.1);
            border: 2px solid #3b82f6;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        .phone-input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid #475569;
            border-radius: 5px;
            color: white;
            font-size: 16px;
        }
        .phone-btn {
            width: 100%;
            padding: 12px;
            margin: 5px 0;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }
        .phone-btn:hover {
            background: #2563eb;
        }
        .btn-clone {
            background: linear-gradient(45deg, #f59e0b, #d97706);
        }
        .btn-clone:hover {
            background: linear-gradient(45deg, #d97706, #b45309);
        }
        .terminal {
            background: #0f172a;
            border-radius: 5px;
            padding: 20px;
            font-family: monospace;
            height: 400px;
            overflow-y: auto;
            margin-bottom: 20px;
        }
        .log-line {
            margin: 5px 0;
            color: #94a3b8;
        }
        .log-line.system { color: #60a5fa; }
        .log-line.success { color: #10b981; }
        .log-line.error { color: #ef4444; }
        .admin-panel {
            background: rgba(239, 68, 68, 0.1);
            border: 2px solid #ef4444;
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
        }
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #475569;
            color: #94a3b8;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">ğŸ”</div>
            <h1>TrouvE Security System</h1>
            <div class="domain">outilafrique.duckdns.org</div>
        </header>

        <div class="main-content">
            <div class="sidebar">
                <h3 class="section-title">ğŸ“Š Statistiques</h3>
                <div class="stats">
                    <div class="stat">
                        <div>Connexions actives:</div>
                        <div id="connections">1</div>
                    </div>
                    <div class="stat">
                        <div>Menaces dÃ©tectÃ©es:</div>
                        <div id="threats">0</div>
                    </div>
                </div>

                <!-- ZONE TÃ‰LÃ‰PHONE AFRIQUE CENTRALE -->
                <div class="phone-section">
                    <h3 class="section-title">ğŸ“± ContrÃ´le Mobile</h3>
                    
                    <select class="phone-input" id="countryCode">
                        <option value="+237">ğŸ‡¨ğŸ‡² Cameroun (+237)</option>
                        <option value="+241">ğŸ‡¬ğŸ‡¦ Gabon (+241)</option>
                        <option value="+242">ğŸ‡¨ğŸ‡¬ Congo (+242)</option>
                        <option value="+236">ğŸ‡¨ğŸ‡« RCA (+236)</option>
                        <option value="+243">ğŸ‡¨ğŸ‡© RDC (+243)</option>
                        <option value="+225">ğŸ‡¨ğŸ‡® CÃ´te d'Ivoire (+225)</option>
                    </select>
                    
                    <input type="tel" 
                           class="phone-input" 
                           id="phoneNumber" 
                           placeholder="NumÃ©ro (ex: 6 99 99 99 99)"
                           pattern="[0-9\s]{8,12}"
                           required>
                    
                    <button class="phone-btn" onclick="initiateControl()">
                        ğŸ“ ContrÃ´le Ã  distance
                    </button>
                    
                    <button class="phone-btn btn-clone" onclick="initiateClone()">
                        ğŸ“± Clonage sÃ©curisÃ©
                    </button>
                    
                    <div style="margin-top: 15px; font-size: 0.9em; color: #94a3b8;">
                        <p>ğŸ“Œ Format: <strong>+code pays numÃ©ro</strong></p>
                        <p>Ex: +237 6 99 99 99 99</p>
                    </div>
                </div>

                <div style="margin-top: 20px;">
                    <button class="phone-btn" style="background: #10b981;" onclick="scanNetwork()">
                        ğŸ” Scanner rÃ©seau
                    </button>
                </div>
            </div>

            <div class="control-panel">
                <h3 class="section-title">ğŸ® Terminal de contrÃ´le</h3>
                
                <div class="terminal" id="terminal">
                    <div class="log-line system">[SYSTEM] Initialisation TrouvE...</div>
                    <div class="log-line system">[SYSTEM] Domaine: outilafrique.duckdns.org</div>
                    <div class="log-line system">[SYSTEM] IA Li/Lo: ActivÃ©e</div>
                    <div class="log-line success">[SUCCESS] ContrÃ´le Ã  distance: PrÃªt</div>
                </div>

                <div class="command-input">
                    <input type="text" 
                           class="phone-input" 
                           id="commandInput"
                           placeholder="Entrez une commande..."
                           onkeypress="if(event.key === 'Enter') executeCommand()">
                    <button class="phone-btn" onclick="executeCommand()">
                        ğŸš€ ExÃ©cuter
                    </button>
                </div>

                <!-- PANEL ADMIN -->
                <div class="admin-panel">
                    <h3 class="section-title">âš™ï¸ Administration</h3>
                    
                    <input type="password" 
                           class="phone-input" 
                           id="adminPassword"
                           placeholder="Mot de passe administrateur">
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px;">
                        <button class="phone-btn" onclick="adminLogin()">
                            ğŸ” Connexion
                        </button>
                        <button class="phone-btn" style="background: #8b5cf6;" onclick="showLogs()">
                            ğŸ“‹ Logs
                        </button>
                        <button class="phone-btn" style="background: #f59e0b;" onclick="exportData()">
                            ğŸ’¾ Exporter
                        </button>
                        <button class="phone-btn" style="background: #ef4444;" onclick="emergencyStop()">
                            ğŸš¨ ArrÃªt
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>ğŸ”’ TrouvE Security System | outilafrique.duckdns.org</p>
            <p style="font-size: 0.9em; margin-top: 10px;">
                âš ï¸ SystÃ¨me de sÃ©curitÃ© autorisÃ© uniquement
            </p>
        </footer>
    </div>

    <script>
        // Variables
        let isAdmin = false;
        let phoneControlActive = false;

        // Initialisation
        document.addEventListener('DOMContentLoaded', () => {
            logMessage('SYSTEM', 'Interface initialisÃ©e');
            logMessage('SYSTEM', 'Zone tÃ©lÃ©phone Afrique Centrale active');
            logMessage('SYSTEM', 'ContrÃ´les admin chargÃ©s');
            
            // Configuration automatique
            autoConfigure();
        });

        function autoConfigure() {
            // Configuration automatique pour Afrique Centrale
            const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
            if (timezone.includes('Africa')) {
                logMessage('SYSTEM', `Timezone dÃ©tectÃ©: ${timezone}`);
            }
        }

        // ContrÃ´le tÃ©lÃ©phone
        function getFullPhoneNumber() {
            const countryCode = document.getElementById('countryCode').value;
            const number = document.getElementById('phoneNumber').value.replace(/\s/g, '');
            
            if (!number || number.length < 8) {
                alert('âŒ NumÃ©ro invalide');
                return null;
            }
            
            return countryCode + number;
        }

        function initiateControl() {
            const phoneNumber = getFullPhoneNumber();
            if (!phoneNumber) return;
            
            logMessage('PHONE', `Initialisation contrÃ´le: ${phoneNumber}`);
            logMessage('SYSTEM', 'Ã‰tablissement connexion sÃ©curisÃ©e...');
            
            // Simulation connexion
            setTimeout(() => {
                logMessage('SUCCESS', `âœ… TÃ©lÃ©phone ${phoneNumber} connectÃ©`);
                phoneControlActive = true;
                
                // Afficher contrÃ´les
                showPhoneControls(phoneNumber);
            }, 2000);
        }

        function initiateClone() {
            const phoneNumber = getFullPhoneNumber();
            if (!phoneNumber) return;
            
            if (!confirm(`âš ï¸ DÃ©marrer clonage pour ${phoneNumber} ?`)) {
                return;
            }
            
            logMessage('SYSTEM', `ğŸŒ€ Clonage initiÃ©: ${phoneNumber}`);
            
            // Simulation processus
            const steps = [
                'Analyse sÃ©curitÃ© pÃ©riphÃ©rique...',
                'Connexion chiffrÃ©e Ã©tablie...',
                'Extraction donnÃ©es systÃ¨me...',
                'Synchronisation applications...',
                'Chiffrement donnÃ©es...',
                'Transfert sÃ©curisÃ©...'
            ];
            
            let step = 0;
            const interval = setInterval(() => {
                if (step < steps.length) {
                    logMessage('SYSTEM', steps[step]);
                    step++;
                } else {
                    clearInterval(interval);
                    logMessage('SUCCESS', `âœ… Clonage ${phoneNumber} terminÃ©`);
                }
            }, 1500);
        }

        function showPhoneControls(phoneNumber) {
            logMessage('PHONE', 'ContrÃ´les disponibles:');
            logMessage('PHONE', 'â€¢ ğŸ“ Appels entrants/sortants');
            logMessage('PHONE', 'â€¢ ğŸ’¬ SMS/MMS');
            logMessage('PHONE', 'â€¢ ğŸ“ GÃ©olocalisation');
            logMessage('PHONE', 'â€¢ ğŸ“ AccÃ¨s fichiers');
            logMessage('PHONE', 'â€¢ ğŸ¤ Microphone/camÃ©ra');
        }

        // Commandes systÃ¨me
        function executeCommand() {
            const input = document.getElementById('commandInput');
            const command = input.value.trim();
            
            if (!command) return;
            
            logMessage('COMMAND', `$ ${command}`);
            
            // Simulation exÃ©cution
            setTimeout(() => {
                const responses = [
                    `âœ… Commande exÃ©cutÃ©e: ${command}`,
                    `ğŸ“Š RÃ©sultat: SuccÃ¨s`,
                    `ğŸ§  IA: Commande analysÃ©e et validÃ©e`
                ];
                
                responses.forEach((msg, i) => {
                    setTimeout(() => {
                        logMessage('SYSTEM', msg);
                    }, i * 500);
                });
            }, 1000);
            
            input.value = '';
        }

        function scanNetwork() {
            logMessage('SYSTEM', 'ğŸ” Scan rÃ©seau dÃ©marrÃ©...');
            
            setTimeout(() => {
                logMessage('SYSTEM', 'ğŸ“¡ PÃ©riphÃ©riques dÃ©tectÃ©s: 12');
                logMessage('SYSTEM', 'ğŸ›¡ï¸ SÃ©curitÃ©: Niveau Ã©levÃ©');
                logMessage('SUCCESS', 'âœ… Scan terminÃ©');
            }, 3000);
        }

        // Administration
        function adminLogin() {
            const password = document.getElementById('adminPassword').value;
            
            if (!password) {
                alert('âŒ Mot de passe requis');
                return;
            }
            
            // Envoyer au serveur (chiffrÃ©)
            fetch('/api/auth', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: `password=${encodeURIComponent(password)}`
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    isAdmin = true;
                    logMessage('SUCCESS', 'âœ… Admin authentifiÃ©');
                    alert('AccÃ¨s admin accordÃ©');
                } else {
                    logMessage('ERROR', 'âŒ AccÃ¨s refusÃ©');
                }
            })
            .catch(error => {
                logMessage('ERROR', 'Erreur connexion');
            });
        }

        function showLogs() {
            if (!isAdmin) {
                alert('ğŸ”’ AccÃ¨s admin requis');
                return;
            }
            
            logMessage('SYSTEM', 'ğŸ“‹ Affichage logs systÃ¨me...');
            // Logs seraient rÃ©cupÃ©rÃ©s via API
        }

        function exportData() {
            if (!isAdmin) {
                alert('ğŸ”’ AccÃ¨s admin requis');
                return;
            }
            
            const data = {
                timestamp: new Date().toISOString(),
                domain: 'outilafrique.duckdns.org',
                operations: 'export'
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `trouve-export-${Date.now()}.json`;
            a.click();
            
            logMessage('SUCCESS', 'ğŸ’¾ DonnÃ©es exportÃ©es');
        }

        function emergencyStop() {
            if (confirm('ğŸš¨ ArrÃªt d\'urgence ?')) {
                logMessage('SYSTEM', 'ğŸ›‘ ArrÃªt d\'urgence initiÃ©...');
                // ArrÃªt via API
            }
        }

        function logMessage(type, message) {
            const terminal = document.getElementById('terminal');
            const line = document.createElement('div');
            line.className = `log-line ${type.toLowerCase()}`;
            line.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            terminal.appendChild(line);
            terminal.scrollTop = terminal.scrollHeight;
        }

        // Mise Ã  jour stats
        setInterval(() => {
            document.getElementById('connections').textContent = 
                Math.floor(Math.random() * 5) + 1;
        }, 5000);
    </script>
</body>
</html>



<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrouvE - outilafrique.duckdns.org</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #fff;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            text-align: center;
            padding: 40px 0;
            border-bottom: 2px solid #3b82f6;
        }
        .logo {
            font-size: 3em;
            margin-bottom: 10px;
        }
        .domain {
            color: #60a5fa;
            font-size: 1.2em;
        }
        .main-content {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
            margin-top: 30px;
        }
        .sidebar {
            background: rgba(30, 41, 59, 0.7);
            border-radius: 10px;
            padding: 20px;
        }
        .control-panel {
            background: rgba(30, 41, 59, 0.7);
            border-radius: 10px;
            padding: 30px;
        }
        .section-title {
            color: #3b82f6;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #475569;
        }
        .phone-section {
            background: rgba(59, 130, 246, 0.1);
            border: 2px solid #3b82f6;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        .phone-input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid #475569;
            border-radius: 5px;
            color: white;
            font-size: 16px;
        }
        .phone-btn {
            width: 100%;
            padding: 12px;
            margin: 5px 0;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }
        .phone-btn:hover {
            background: #2563eb;
        }
        .btn-clone {
            background: linear-gradient(45deg, #f59e0b, #d97706);
        }
        .btn-clone:hover {
            background: linear-gradient(45deg, #d97706, #b45309);
        }
        .terminal {
            background: #0f172a;
            border-radius: 5px;
            padding: 20px;
            font-family: monospace;
            height: 400px;
            overflow-y: auto;
            margin-bottom: 20px;
        }
        .log-line {
            margin: 5px 0;
            color: #94a3b8;
        }
        .log-line.system { color: #60a5fa; }
        .log-line.success { color: #10b981; }
        .log-line.error { color: #ef4444; }
        .admin-panel {
            background: rgba(239, 68, 68, 0.1);
            border: 2px solid #ef4444;
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
        }
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #475569;
            color: #94a3b8;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">ğŸ”</div>
            <h1>TrouvE Security System</h1>
            <div class="domain">outilafrique.duckdns.org</div>
        </header>

        <div class="main-content">
            <div class="sidebar">
                <h3 class="section-title">ğŸ“Š Statistiques</h3>
                <div class="stats">
                    <div class="stat">
                        <div>Connexions actives:</div>
                        <div id="connections">1</div>
                    </div>
                    <div class="stat">
                        <div>Menaces dÃ©tectÃ©es:</div>
                        <div id="threats">0</div>
                    </div>
                </div>

                <!-- ZONE TÃ‰LÃ‰PHONE AFRIQUE CENTRALE -->
                <div class="phone-section">
                    <h3 class="section-title">ğŸ“± ContrÃ´le Mobile</h3>
                    
                    <select class="phone-input" id="countryCode">
                        <option value="+237">ğŸ‡¨ğŸ‡² Cameroun (+237)</option>
                        <option value="+241">ğŸ‡¬ğŸ‡¦ Gabon (+241)</option>
                        <option value="+242">ğŸ‡¨ğŸ‡¬ Congo (+242)</option>
                        <option value="+236">ğŸ‡¨ğŸ‡« RCA (+236)</option>
                        <option value="+243">ğŸ‡¨ğŸ‡© RDC (+243)</option>
                        <option value="+225">ğŸ‡¨ğŸ‡® CÃ´te d'Ivoire (+225)</option>
                    </select>
                    
                    <input type="tel" 
                           class="phone-input" 
                           id="phoneNumber" 
                           placeholder="NumÃ©ro (ex: 6 99 99 99 99)"
                           pattern="[0-9\s]{8,12}"
                           required>
                    
                    <button class="phone-btn" onclick="initiateControl()">
                        ğŸ“ ContrÃ´le Ã  distance
                    </button>
                    
                    <button class="phone-btn btn-clone" onclick="initiateClone()">
                        ğŸ“± Clonage sÃ©curisÃ©
                    </button>
                    
                    <div style="margin-top: 15px; font-size: 0.9em; color: #94a3b8;">
                        <p>ğŸ“Œ Format: <strong>+code pays numÃ©ro</strong></p>
                        <p>Ex: +237 6 99 99 99 99</p>
                    </div>
                </div>

                <div style="margin-top: 20px;">
                    <button class="phone-btn" style="background: #10b981;" onclick="scanNetwork()">
                        ğŸ” Scanner rÃ©seau
                    </button>
                </div>
            </div>

            <div class="control-panel">
                <h3 class="section-title">ğŸ® Terminal de contrÃ´le</h3>
                
                <div class="terminal" id="terminal">
                    <div class="log-line system">[SYSTEM] Initialisation TrouvE...</div>
                    <div class="log-line system">[SYSTEM] Domaine: outilafrique.duckdns.org</div>
                    <div class="log-line system">[SYSTEM] IA Li/Lo: ActivÃ©e</div>
                    <div class="log-line success">[SUCCESS] ContrÃ´le Ã  distance: PrÃªt</div>
                </div>

                <div class="command-input">
                    <input type="text" 
                           class="phone-input" 
                           id="commandInput"
                           placeholder="Entrez une commande..."
                           onkeypress="if(event.key === 'Enter') executeCommand()">
                    <button class="phone-btn" onclick="executeCommand()">
                        ğŸš€ ExÃ©cuter
                    </button>
                </div>

                <!-- PANEL ADMIN -->
                <div class="admin-panel">
                    <h3 class="section-title">âš™ï¸ Administration</h3>
                    
                    <input type="password" 
                           class="phone-input" 
                           id="adminPassword"
                           placeholder="Mot de passe administrateur">
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px;">
                        <button class="phone-btn" onclick="adminLogin()">
                            ğŸ” Connexion
                        </button>
                        <button class="phone-btn" style="background: #8b5cf6;" onclick="showLogs()">
                            ğŸ“‹ Logs
                        </button>
                        <button class="phone-btn" style="background: #f59e0b;" onclick="exportData()">
                            ğŸ’¾ Exporter
                        </button>
                        <button class="phone-btn" style="background: #ef4444;" onclick="emergencyStop()">
                            ğŸš¨ ArrÃªt
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>ğŸ”’ TrouvE Security System | outilafrique.duckdns.org</p>
            <p style="font-size: 0.9em; margin-top: 10px;">
                âš ï¸ SystÃ¨me de sÃ©curitÃ© autorisÃ© uniquement
            </p>
        </footer>
    </div>

    <script>
        // Variables
        let isAdmin = false;
        let phoneControlActive = false;

        // Initialisation
        document.addEventListener('DOMContentLoaded', () => {
            logMessage('SYSTEM', 'Interface initialisÃ©e');
            logMessage('SYSTEM', 'Zone tÃ©lÃ©phone Afrique Centrale active');
            logMessage('SYSTEM', 'ContrÃ´les admin chargÃ©s');
            
            // Configuration automatique
            autoConfigure();
        });

        function autoConfigure() {
            // Configuration automatique pour Afrique Centrale
            const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
            if (timezone.includes('Africa')) {
                logMessage('SYSTEM', `Timezone dÃ©tectÃ©: ${timezone}`);
            }
        }

        // ContrÃ´le tÃ©lÃ©phone
        function getFullPhoneNumber() {
            const countryCode = document.getElementById('countryCode').value;
            const number = document.getElementById('phoneNumber').value.replace(/\s/g, '');
            
            if (!number || number.length < 8) {
                alert('âŒ NumÃ©ro invalide');
                return null;
            }
            
            return countryCode + number;
        }

        function initiateControl() {
            const phoneNumber = getFullPhoneNumber();
            if (!phoneNumber) return;
            
            logMessage('PHONE', `Initialisation contrÃ´le: ${phoneNumber}`);
            logMessage('SYSTEM', 'Ã‰tablissement connexion sÃ©curisÃ©e...');
            
            // Simulation connexion
            setTimeout(() => {
                logMessage('SUCCESS', `âœ… TÃ©lÃ©phone ${phoneNumber} connectÃ©`);
                phoneControlActive = true;
                
                // Afficher contrÃ´les
                showPhoneControls(phoneNumber);
            }, 2000);
        }

        function initiateClone() {
            const phoneNumber = getFullPhoneNumber();
            if (!phoneNumber) return;
            
            if (!confirm(`âš ï¸ DÃ©marrer clonage pour ${phoneNumber} ?`)) {
                return;
            }
            
            logMessage('SYSTEM', `ğŸŒ€ Clonage initiÃ©: ${phoneNumber}`);
            
            // Simulation processus
            const steps = [
                'Analyse sÃ©curitÃ© pÃ©riphÃ©rique...',
                'Connexion chiffrÃ©e Ã©tablie...',
                'Extraction donnÃ©es systÃ¨me...',
                'Synchronisation applications...',
                'Chiffrement donnÃ©es...',
                'Transfert sÃ©curisÃ©...'
            ];
            
            let step = 0;
            const interval = setInterval(() => {
                if (step < steps.length) {
                    logMessage('SYSTEM', steps[step]);
                    step++;
                } else {
                    clearInterval(interval);
                    logMessage('SUCCESS', `âœ… Clonage ${phoneNumber} terminÃ©`);
                }
            }, 1500);
        }

        function showPhoneControls(phoneNumber) {
            logMessage('PHONE', 'ContrÃ´les disponibles:');
            logMessage('PHONE', 'â€¢ ğŸ“ Appels entrants/sortants');
            logMessage('PHONE', 'â€¢ ğŸ’¬ SMS/MMS');
            logMessage('PHONE', 'â€¢ ğŸ“ GÃ©olocalisation');
            logMessage('PHONE', 'â€¢ ğŸ“ AccÃ¨s fichiers');
            logMessage('PHONE', 'â€¢ ğŸ¤ Microphone/camÃ©ra');
        }

        // Commandes systÃ¨me
        function executeCommand() {
            const input = document.getElementById('commandInput');
            const command = input.value.trim();
            
            if (!command) return;
            
            logMessage('COMMAND', `$ ${command}`);
            
            // Simulation exÃ©cution
            setTimeout(() => {
                const responses = [
                    `âœ… Commande exÃ©cutÃ©e: ${command}`,
                    `ğŸ“Š RÃ©sultat: SuccÃ¨s`,
                    `ğŸ§  IA: Commande analysÃ©e et validÃ©e`
                ];
                
                responses.forEach((msg, i) => {
                    setTimeout(() => {
                        logMessage('SYSTEM', msg);
                    }, i * 500);
                });
            }, 1000);
            
            input.value = '';
        }

        function scanNetwork() {
            logMessage('SYSTEM', 'ğŸ” Scan rÃ©seau dÃ©marrÃ©...');
            
            setTimeout(() => {
                logMessage('SYSTEM', 'ğŸ“¡ PÃ©riphÃ©riques dÃ©tectÃ©s: 12');
                logMessage('SYSTEM', 'ğŸ›¡ï¸ SÃ©curitÃ©: Niveau Ã©levÃ©');
                logMessage('SUCCESS', 'âœ… Scan terminÃ©');
            }, 3000);
        }

        // Administration
        function adminLogin() {
            const password = document.getElementById('adminPassword').value;
            
            if (!password) {
                alert('âŒ Mot de passe requis');
                return;
            }
            
            // Envoyer au serveur (chiffrÃ©)
            fetch('/api/auth', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: `password=${encodeURIComponent(password)}`
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    isAdmin = true;
                    logMessage('SUCCESS', 'âœ… Admin authentifiÃ©');
                    alert('AccÃ¨s admin accordÃ©');
                } else {
                    logMessage('ERROR', 'âŒ AccÃ¨s refusÃ©');
                }
            })
            .catch(error => {
                logMessage('ERROR', 'Erreur connexion');
            });
        }

        function showLogs() {
            if (!isAdmin) {
                alert('ğŸ”’ AccÃ¨s admin requis');
                return;
            }
            
            logMessage('SYSTEM', 'ğŸ“‹ Affichage logs systÃ¨me...');
            // Logs seraient rÃ©cupÃ©rÃ©s via API
        }

        function exportData() {
            if (!isAdmin) {
                alert('ğŸ”’ AccÃ¨s admin requis');
                return;
            }
            
            const data = {
                timestamp: new Date().toISOString(),
                domain: 'outilafrique.duckdns.org',
                operations: 'export'
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `trouve-export-${Date.now()}.json`;
            a.click();
            
            logMessage('SUCCESS', 'ğŸ’¾ DonnÃ©es exportÃ©es');
        }

        function emergencyStop() {
            if (confirm('ğŸš¨ ArrÃªt d\'urgence ?')) {
                logMessage('SYSTEM', 'ğŸ›‘ ArrÃªt d\'urgence initiÃ©...');
                // ArrÃªt via API
            }
        }

        function logMessage(type, message) {
            const terminal = document.getElementById('terminal');
            const line = document.createElement('div');
            line.className = `log-line ${type.toLowerCase()}`;
            line.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            terminal.appendChild(line);
            terminal.scrollTop = terminal.scrollHeight;
        }

        // Mise Ã  jour stats
        setInterval(() => {
            document.getElementById('connections').textContent = 
                Math.floor(Math.random() * 5) + 1;
        }, 5000);
    </script>
</body>
</html>



#!/bin/bash
# DÃ©ploiement sÃ©curisÃ© TrouvE

set -e

echo "ğŸ”§ DÃ©ploiement TrouvE - outilafrique.duckdns.org"

# VÃ©rification sÃ©curitÃ©
check_security() {
    echo "ğŸ” VÃ©rification sÃ©curitÃ©..."
    
    # VÃ©rifier que le mot-clÃ© n'est pas en clair
    if grep -r "Luka-Securite-Survellence-2025" . 2>/dev/null; then
        echo "âŒ ERREUR CRITIQUE: Mot-clÃ© visible !"
        exit 1
    fi
    
    echo "âœ… SÃ©curitÃ© validÃ©e"
}

# GÃ©nÃ©ration clÃ© chiffrÃ©e
generate_encrypted_key() {
    echo "ğŸ”‘ GÃ©nÃ©ration clÃ© chiffrÃ©e..."
    
    # GÃ©nÃ©rer une clÃ© alÃ©atoire
    SECRET_KEY=$(openssl rand -base64 32)
    
    # Chiffrer avec le domaine
    ENCRYPTED_KEY=$(echo "$SECRET_KEY" | openssl enc -aes-256-gcm -base64 -pass pass:outilafrique.duckdns.org)
    
    # Sauvegarder dans .env
    echo "TROUVE_ENCRYPTED_KEY=$ENCRYPTED_KEY" >> .env
    
    echo "âœ… ClÃ© gÃ©nÃ©rÃ©e et chiffrÃ©e"
}

# Construction Docker
build_docker() {
    echo "ğŸ³ Construction image Docker..."
    
    docker build -t outilafrique/trouve:latest .
    
    # VÃ©rifier l'image
    docker run --rm outilafrique/trouve:latest --version
    
    echo "âœ… Image construite"
}

# DÃ©ploiement
deploy() {
    echo "ğŸš€ DÃ©ploiement..."
    
    # ArrÃªter l'ancien conteneur
    docker stop trouve-app 2>/dev/null || true
    docker rm trouve-app 2>/dev/null || true
    
    # DÃ©marrer le nouveau
    docker run -d \
        --name trouve-app \
        --restart unless-stopped \
        -p 8080:8080 \
        -e TROUVE_ENCRYPTED_KEY="$ENCRYPTED_KEY" \
        -e TROUVE_DOMAIN=outilafrique.duckdns.org \
        outilafrique/trouve:latest
    
    echo "âœ… Application dÃ©ployÃ©e"
}

# VÃ©rification
verify() {
    echo "ğŸ” VÃ©rification..."
    
    sleep 5
    
    if curl -s http://localhost:8080 | grep -q "TrouvE"; then
        echo "âœ… Application fonctionnelle"
    else
        echo "âŒ Ã‰chec dÃ©marrage"
        exit 1
    fi
}

# Main
main() {
    check_security
    generate_encrypted_key
    build_docker
    deploy
    verify
    
    echo ""
    echo "ğŸ‰ DÃ‰PLOIEMENT RÃ‰USSI !"
    echo "ğŸŒ AccÃ¨s: http://localhost:8080"
    echo "ğŸ”— Domaine: outilafrique.duckdns.org"
    echo "ğŸ“± ContrÃ´le mobile: Actif"
    echo ""
    echo "ğŸ”’ MOT-CLÃ‰: CHIFFRÃ‰ ET SÃ‰CURISÃ‰"
}

main "$@"



